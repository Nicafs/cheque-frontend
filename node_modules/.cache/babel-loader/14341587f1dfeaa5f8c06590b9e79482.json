{"ast":null,"code":"var _jsxFileName = \"/home/geia/git/cheque/cheque/src/components/table/EnchancedTable.js\";\nimport React from 'react';\nimport MaUTable from '@material-ui/core/Table';\nimport PropTypes from 'prop-types';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TablePaginationActions from './TablePaginationActions';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport { useGlobalFilter, usePagination, useRowSelect, useSortBy, useTable } from 'react-table';\nconst IndeterminateCheckbox = React.forwardRef(({\n  indeterminate,\n  ...rest\n}, ref) => {\n  const defaultRef = React.useRef();\n  const resolvedRef = ref || defaultRef;\n  React.useEffect(() => {\n    resolvedRef.current.indeterminate = indeterminate;\n  }, [resolvedRef, indeterminate]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null);\n});\nconst inputStyle = {\n  padding: 0,\n  margin: 0,\n  border: 0,\n  background: 'transparent'\n}; // Create an editable cell renderer\n\nconst EditableCell = ({\n  value: initialValue,\n  row: {\n    index\n  },\n  column: {\n    id\n  },\n  updateMyData // This is a custom function that we supplied to our table instance\n\n}) => {\n  // We need to keep and update the state of the cell normally\n  const [value, setValue] = React.useState(initialValue);\n\n  const onChange = e => {\n    setValue(e.target.value);\n  }; // We'll only update the external data when the input is blurred\n\n\n  const onBlur = () => {\n    updateMyData(index, id, value);\n  }; // If the initialValue is changed externall, sync it up with our state\n\n\n  React.useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n  return /*#__PURE__*/React.createElement(\"input\", {\n    style: inputStyle,\n    value: value,\n    onChange: onChange,\n    onBlur: onBlur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  });\n};\n\nEditableCell.propTypes = {\n  cell: PropTypes.shape({\n    value: PropTypes.any.isRequired\n  }),\n  row: PropTypes.shape({\n    index: PropTypes.number.isRequired\n  }),\n  column: PropTypes.shape({\n    id: PropTypes.number.isRequired\n  }),\n  updateMyData: PropTypes.func.isRequired\n}; // Set our editable cell renderer as the default Cell renderer\n\nconst defaultColumn = {\n  Cell: EditableCell\n};\n\nconst EnhancedTable = ({\n  columns,\n  data,\n  setData,\n  updateMyData,\n  skipPageReset\n}) => {\n  const {\n    getTableProps,\n    headerGroups,\n    prepareRow,\n    page,\n    gotoPage,\n    setPageSize,\n    state: {\n      pageIndex,\n      pageSize\n    }\n  } = useTable({\n    columns,\n    data,\n    defaultColumn,\n    autoResetPage: !skipPageReset,\n    // updateMyData isn't part of the API, but\n    // anything we put into these options will\n    // automatically be available on the instance.\n    // That way we can call this function from our\n    // cell renderer!\n    updateMyData\n  }, useGlobalFilter, useSortBy, usePagination, useRowSelect, hooks => {\n    hooks.allColumns.push(columns => [// Let's make a column for selection\n    {\n      id: 'selection',\n      // The header can use the table's getToggleAllRowsSelectedProps method\n      // to render a checkbox.  Pagination is a problem since this will select all\n      // rows even though not all rows are on the current page.  The solution should\n      // be server side pagination.  For one, the clients should not download all\n      // rows in most cases.  The client should only download data for the current page.\n      // In that case, getToggleAllRowsSelectedProps works fine.\n      Header: ({\n        getToggleAllRowsSelectedProps\n      }) => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IndeterminateCheckbox, Object.assign({}, getToggleAllRowsSelectedProps(), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }\n      }))),\n      // The cell can use the individual row's getToggleRowSelectedProps method\n      // to the render a checkbox\n      Cell: ({\n        row\n      }) => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IndeterminateCheckbox, Object.assign({}, row.getToggleRowSelectedProps(), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      })))\n    }, ...columns]);\n  });\n\n  const handleChangePage = (event, newPage) => {\n    gotoPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setPageSize(Number(event.target.value));\n  }; //   const removeByIndexs = (array, indexs) =>\n  //     array.filter((_, i) => !indexs.includes(i))\n  //   const deleteUserHandler = event => {\n  //     const newData = removeByIndexs(\n  //       data,\n  //       Object.keys(selectedRowIds).map(x => parseInt(x, 10))\n  //     )\n  //     setData(newData)\n  //   }\n  //   const addUserHandler = user => {\n  //     const newData = data.concat([user])\n  //     setData(newData)\n  //   }\n  // Render the UI for your table\n\n\n  return /*#__PURE__*/React.createElement(TableContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MaUTable, Object.assign({}, getTableProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, headerGroups.map(headerGroup => /*#__PURE__*/React.createElement(TableRow, Object.assign({}, headerGroup.getHeaderGroupProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }), headerGroup.headers.map(column => /*#__PURE__*/React.createElement(TableCell, Object.assign({}, column.id === 'selection' ? column.getHeaderProps() : column.getHeaderProps(column.getSortByToggleProps()), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }), column.render('Header'), column.id !== 'selection' ? /*#__PURE__*/React.createElement(TableSortLabel, {\n    active: column.isSorted // react-table has a unsorted state which is not treated here\n    ,\n    direction: column.isSortedDesc ? 'desc' : 'asc',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }) : null))))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }, page.map((row, i) => {\n    prepareRow(row);\n    return /*#__PURE__*/React.createElement(TableRow, Object.assign({}, row.getRowProps(), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }), row.cells.map(cell => {\n      return /*#__PURE__*/React.createElement(TableCell, Object.assign({}, cell.getCellProps(), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }\n      }), cell.render('Cell'));\n    }));\n  })), /*#__PURE__*/React.createElement(TableFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TablePagination, {\n    rowsPerPageOptions: [5, 10, 25, {\n      label: 'All',\n      value: data.length\n    }],\n    colSpan: 3,\n    count: data.length,\n    rowsPerPage: pageSize,\n    page: pageIndex,\n    SelectProps: {\n      inputProps: {\n        'aria-label': 'rows per page'\n      },\n      native: true\n    },\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    ActionsComponent: TablePaginationActions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }\n  })))));\n};\n\nEnhancedTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  data: PropTypes.array.isRequired,\n  updateMyData: PropTypes.func.isRequired,\n  setData: PropTypes.func.isRequired,\n  skipPageReset: PropTypes.bool.isRequired\n};\nexport default EnhancedTable;","map":{"version":3,"sources":["/home/geia/git/cheque/cheque/src/components/table/EnchancedTable.js"],"names":["React","MaUTable","PropTypes","TableBody","TableCell","TableContainer","TableFooter","TableHead","TablePagination","TablePaginationActions","TableRow","TableSortLabel","useGlobalFilter","usePagination","useRowSelect","useSortBy","useTable","IndeterminateCheckbox","forwardRef","indeterminate","rest","ref","defaultRef","useRef","resolvedRef","useEffect","current","inputStyle","padding","margin","border","background","EditableCell","value","initialValue","row","index","column","id","updateMyData","setValue","useState","onChange","e","target","onBlur","propTypes","cell","shape","any","isRequired","number","func","defaultColumn","Cell","EnhancedTable","columns","data","setData","skipPageReset","getTableProps","headerGroups","prepareRow","page","gotoPage","setPageSize","state","pageIndex","pageSize","autoResetPage","hooks","allColumns","push","Header","getToggleAllRowsSelectedProps","getToggleRowSelectedProps","handleChangePage","event","newPage","handleChangeRowsPerPage","Number","map","headerGroup","getHeaderGroupProps","headers","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","i","getRowProps","cells","getCellProps","label","length","inputProps","native","array","bool"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport MaUTable from '@material-ui/core/Table'\nimport PropTypes from 'prop-types'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableFooter from '@material-ui/core/TableFooter'\nimport TableHead from '@material-ui/core/TableHead'\nimport TablePagination from '@material-ui/core/TablePagination'\nimport TablePaginationActions from './TablePaginationActions'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableSortLabel from '@material-ui/core/TableSortLabel'\nimport {\n  useGlobalFilter,\n  usePagination,\n  useRowSelect,\n  useSortBy,\n  useTable,\n} from 'react-table'\n\nconst IndeterminateCheckbox = React.forwardRef(\n  ({ indeterminate, ...rest }, ref) => {\n    const defaultRef = React.useRef()\n    const resolvedRef = ref || defaultRef\n\n    React.useEffect(() => {\n      resolvedRef.current.indeterminate = indeterminate\n    }, [resolvedRef, indeterminate])\n\n    return (\n      <>\n      \n      </>\n    )\n  }\n)\n\nconst inputStyle = {\n  padding: 0,\n  margin: 0,\n  border: 0,\n  background: 'transparent',\n}\n\n// Create an editable cell renderer\nconst EditableCell = ({\n  value: initialValue,\n  row: { index },\n  column: { id },\n  updateMyData, // This is a custom function that we supplied to our table instance\n}) => {\n  // We need to keep and update the state of the cell normally\n  const [value, setValue] = React.useState(initialValue)\n\n  const onChange = e => {\n    setValue(e.target.value)\n  }\n\n  // We'll only update the external data when the input is blurred\n  const onBlur = () => {\n    updateMyData(index, id, value)\n  }\n\n  // If the initialValue is changed externall, sync it up with our state\n  React.useEffect(() => {\n    setValue(initialValue)\n  }, [initialValue])\n\n  return (\n    <input\n      style={inputStyle}\n      value={value}\n      onChange={onChange}\n      onBlur={onBlur}\n    />\n  )\n}\n\nEditableCell.propTypes = {\n  cell: PropTypes.shape({\n    value: PropTypes.any.isRequired,\n  }),\n  row: PropTypes.shape({\n    index: PropTypes.number.isRequired,\n  }),\n  column: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n  }),\n  updateMyData: PropTypes.func.isRequired,\n}\n\n// Set our editable cell renderer as the default Cell renderer\nconst defaultColumn = {\n  Cell: EditableCell,\n}\n\nconst EnhancedTable = ({\n  columns,\n  data,\n  setData,\n  updateMyData,\n  skipPageReset,\n}) => {\n  const {\n    getTableProps,\n    headerGroups,\n    prepareRow,\n    page,\n    gotoPage,\n    setPageSize,\n    state: { pageIndex, pageSize },\n  } = useTable(\n    {\n      columns,\n      data,\n      defaultColumn,\n      autoResetPage: !skipPageReset,\n      // updateMyData isn't part of the API, but\n      // anything we put into these options will\n      // automatically be available on the instance.\n      // That way we can call this function from our\n      // cell renderer!\n      updateMyData,\n    },\n    useGlobalFilter,\n    useSortBy,\n    usePagination,\n    useRowSelect,\n    hooks => {\n      hooks.allColumns.push(columns => [\n        // Let's make a column for selection\n        {\n          id: 'selection',\n          // The header can use the table's getToggleAllRowsSelectedProps method\n          // to render a checkbox.  Pagination is a problem since this will select all\n          // rows even though not all rows are on the current page.  The solution should\n          // be server side pagination.  For one, the clients should not download all\n          // rows in most cases.  The client should only download data for the current page.\n          // In that case, getToggleAllRowsSelectedProps works fine.\n          Header: ({ getToggleAllRowsSelectedProps }) => (\n            <div>\n              <IndeterminateCheckbox {...getToggleAllRowsSelectedProps()} />\n            </div>\n          ),\n          // The cell can use the individual row's getToggleRowSelectedProps method\n          // to the render a checkbox\n          Cell: ({ row }) => (\n            <div>\n              <IndeterminateCheckbox {...row.getToggleRowSelectedProps()} />\n            </div>\n          ),\n        },\n        ...columns,\n      ])\n    }\n  )\n\n  const handleChangePage = (event, newPage) => {\n    gotoPage(newPage)\n  }\n\n  const handleChangeRowsPerPage = event => {\n    setPageSize(Number(event.target.value))\n  }\n\n//   const removeByIndexs = (array, indexs) =>\n//     array.filter((_, i) => !indexs.includes(i))\n\n//   const deleteUserHandler = event => {\n//     const newData = removeByIndexs(\n//       data,\n//       Object.keys(selectedRowIds).map(x => parseInt(x, 10))\n//     )\n//     setData(newData)\n//   }\n\n//   const addUserHandler = user => {\n//     const newData = data.concat([user])\n//     setData(newData)\n//   }\n\n  // Render the UI for your table\n  return (\n    <TableContainer>\n      \n      <MaUTable {...getTableProps()}>\n        <TableHead>\n          {headerGroups.map(headerGroup => (\n            <TableRow {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map(column => (\n                <TableCell\n                  {...(column.id === 'selection'\n                    ? column.getHeaderProps()\n                    : column.getHeaderProps(column.getSortByToggleProps()))}\n                >\n                  {column.render('Header')}\n                  {column.id !== 'selection' ? (\n                    <TableSortLabel\n                      active={column.isSorted}\n                      // react-table has a unsorted state which is not treated here\n                      direction={column.isSortedDesc ? 'desc' : 'asc'}\n                    />\n                  ) : null}\n                </TableCell>\n              ))}\n            </TableRow>\n          ))}\n        </TableHead>\n        <TableBody>\n          {page.map((row, i) => {\n            prepareRow(row)\n            return (\n              <TableRow {...row.getRowProps()}>\n                {row.cells.map(cell => {\n                  return (\n                    <TableCell {...cell.getCellProps()}>\n                      {cell.render('Cell')}\n                    </TableCell>\n                  )\n                })}\n              </TableRow>\n            )\n          })}\n        </TableBody>\n\n        <TableFooter>\n          <TableRow>\n            <TablePagination\n              rowsPerPageOptions={[\n                5,\n                10,\n                25,\n                { label: 'All', value: data.length },\n              ]}\n              colSpan={3}\n              count={data.length}\n              rowsPerPage={pageSize}\n              page={pageIndex}\n              SelectProps={{\n                inputProps: { 'aria-label': 'rows per page' },\n                native: true,\n              }}\n              onChangePage={handleChangePage}\n              onChangeRowsPerPage={handleChangeRowsPerPage}\n              ActionsComponent={TablePaginationActions}\n            />\n          </TableRow>\n        </TableFooter>\n      </MaUTable>\n    </TableContainer>\n  )\n}\n\nEnhancedTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  data: PropTypes.array.isRequired,\n  updateMyData: PropTypes.func.isRequired,\n  setData: PropTypes.func.isRequired,\n  skipPageReset: PropTypes.bool.isRequired,\n}\n\nexport default EnhancedTable\n"]},"metadata":{},"sourceType":"module"}